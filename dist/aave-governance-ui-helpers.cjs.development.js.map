{"version":3,"file":"aave-governance-ui-helpers.cjs.development.js","sources":["../src/helpers/chains.ts","../src/helpers/appConfig.ts","../src/helpers/bignumber.ts","../src/helpers/checkHash.ts","../src/helpers/eventsHelpres.ts","../src/types.ts","../src/helpers/formatProposal.ts","../src/helpers/getBlockNumberByTimestamp.ts","../src/helpers/getGovCoreConfigs.ts","../src/helpers/getHistoryEvents.ts","../src/helpers/getProposalData.ts","../src/helpers/getProposalEvents.ts","../src/helpers/getProposalMetadata.ts"],"sourcesContent":["export enum ChainIdByName {\n  EthereumMainnet = 1,\n  Polygon = 137,\n  Avalanche = 43114,\n  Binance = 56,\n  Base = 8453,\n  Arbitrum = 42161,\n  Metis = 1088,\n  Optimism = 10,\n  // testnets\n  Goerli = 5,\n  GoerliOptimism = 420,\n  AvalancheFuji = 43113,\n  Sepolia = 11155111,\n  Mumbai = 80001,\n  BnbTest = 97,\n}\n","import {\n  AaveSafetyModule,\n  AaveV3Ethereum,\n  GovernanceV3Arbitrum,\n  GovernanceV3Avalanche,\n  GovernanceV3Base,\n  GovernanceV3Ethereum,\n  GovernanceV3Metis,\n  GovernanceV3Optimism,\n  GovernanceV3Polygon,\n} from '@bgd-labs/aave-address-book';\nimport { ethers } from 'ethers';\n\nimport { ChainIdByName } from './chains';\n\nexport type CoreNetworkName = 'mainnet' | 'goerli' | 'sepolia';\n\ntype Config = {\n  contractAddress: string;\n  dataHelperContractAddress: string;\n};\n\nexport const govCoreConfig: Record<\n  CoreNetworkName,\n  Config & { votingPortals: Record<number, string> }\n> = {\n  mainnet: {\n    contractAddress: GovernanceV3Ethereum.GOVERNANCE,\n    dataHelperContractAddress: GovernanceV3Ethereum.GOV_DATA_HELPER,\n    votingPortals: {\n      [ChainIdByName.EthereumMainnet]:\n        GovernanceV3Ethereum.VOTING_PORTAL_ETH_ETH,\n      [ChainIdByName.Polygon]: GovernanceV3Ethereum.VOTING_PORTAL_ETH_POL,\n      [ChainIdByName.Avalanche]: GovernanceV3Ethereum.VOTING_PORTAL_ETH_AVAX,\n    },\n  },\n  // testnets\n  goerli: {\n    contractAddress: '0x586207Df62c7D5D1c9dBb8F61EdF77cc30925C4F',\n    dataHelperContractAddress: '0xB84D6c8b2cFC98191a1D6d00B38c1057252d876b',\n    votingPortals: {\n      [ChainIdByName.Goerli]: '0xFf376b6db4AF0d87Dba35860B3B87F526d7879cF',\n    },\n  },\n  sepolia: {\n    contractAddress: '0xc4ABF658C3Dda84225cF8A07d7D5Bb6Aa41d9E59',\n    dataHelperContractAddress: '0x863f9De2f82AB502612E8B7d4f4863c8535cb8cA',\n    votingPortals: {\n      [ChainIdByName.Sepolia]: '0x1079bAa48E56065d43b4344866B187a485cb0A92',\n      [ChainIdByName.AvalancheFuji]:\n        '0x4f47EdF2577995aBd7B875Eed75b3F28a20E696F',\n    },\n  },\n};\n\nexport const payloadsControllerConfig: Record<\n  CoreNetworkName,\n  Record<\n    number,\n    Pick<Config, 'dataHelperContractAddress'> & {\n      contractAddresses: string[];\n      payloadAddress?: string;\n    }\n  >\n> = {\n  mainnet: {\n    [ChainIdByName.EthereumMainnet]: {\n      dataHelperContractAddress: GovernanceV3Ethereum.PC_DATA_HELPER,\n      contractAddresses: [GovernanceV3Ethereum.PAYLOADS_CONTROLLER],\n    },\n    [ChainIdByName.Polygon]: {\n      dataHelperContractAddress: GovernanceV3Polygon.PC_DATA_HELPER,\n      contractAddresses: [GovernanceV3Polygon.PAYLOADS_CONTROLLER],\n    },\n    [ChainIdByName.Avalanche]: {\n      dataHelperContractAddress: GovernanceV3Avalanche.PC_DATA_HELPER,\n      contractAddresses: [GovernanceV3Avalanche.PAYLOADS_CONTROLLER],\n    },\n    [ChainIdByName.Base]: {\n      dataHelperContractAddress: GovernanceV3Base.PC_DATA_HELPER,\n      contractAddresses: [GovernanceV3Base.PAYLOADS_CONTROLLER],\n    },\n    [ChainIdByName.Arbitrum]: {\n      dataHelperContractAddress: GovernanceV3Arbitrum.PC_DATA_HELPER,\n      contractAddresses: [GovernanceV3Arbitrum.PAYLOADS_CONTROLLER],\n    },\n    [ChainIdByName.Metis]: {\n      dataHelperContractAddress: GovernanceV3Metis.PC_DATA_HELPER,\n      contractAddresses: [GovernanceV3Metis.PAYLOADS_CONTROLLER],\n    },\n    [ChainIdByName.Optimism]: {\n      dataHelperContractAddress: GovernanceV3Optimism.PC_DATA_HELPER,\n      contractAddresses: [GovernanceV3Optimism.PAYLOADS_CONTROLLER],\n    },\n  },\n  // testnets\n  goerli: {\n    [ChainIdByName.Goerli]: {\n      dataHelperContractAddress: '0xbd2db358f3C82F2883132A6584e22F38A979e768',\n      contractAddresses: ['0x064361B3761CcDd17300146bf58a79d1E570382E'],\n      payloadAddress: '0xf6b9c3fCF7f91817E7bF0efF792BA692c7bd372A', // only for test\n    },\n  },\n  sepolia: {\n    [ChainIdByName.Sepolia]: {\n      dataHelperContractAddress: '0x6B9AF21B95FE20b5a878b43670c23124841ec31A',\n      contractAddresses: ['0x7E314a46AA6dF79c51869967B9b8e9f8Bb20781d'],\n      payloadAddress: '0xf19de078dbac9db382caf8015cb208667ec581c0', // only for test\n    },\n    [ChainIdByName.AvalancheFuji]: {\n      dataHelperContractAddress: '0x6B9AF21B95FE20b5a878b43670c23124841ec31A',\n      contractAddresses: ['0x1fad4eac642D8CAFb7fC5d38973D1C2764202da5'],\n      payloadAddress: '0xdf9f39247c553485ac3bf974418947d9b2f969e5', // only for test\n    },\n  },\n};\n\nconst votingMachineConfig: Record<\n  CoreNetworkName,\n  Record<number, Config & { dataWarehouseAddress: string }>\n> = {\n  mainnet: {\n    [ChainIdByName.EthereumMainnet]: {\n      contractAddress: GovernanceV3Ethereum.VOTING_MACHINE,\n      dataHelperContractAddress: GovernanceV3Ethereum.VM_DATA_HELPER,\n      dataWarehouseAddress: GovernanceV3Ethereum.DATA_WAREHOUSE,\n    },\n    [ChainIdByName.Polygon]: {\n      contractAddress: GovernanceV3Polygon.VOTING_MACHINE,\n      dataHelperContractAddress: GovernanceV3Polygon.VM_DATA_HELPER,\n      dataWarehouseAddress: GovernanceV3Polygon.DATA_WAREHOUSE,\n    },\n    [ChainIdByName.Avalanche]: {\n      contractAddress: GovernanceV3Avalanche.VOTING_MACHINE,\n      dataHelperContractAddress: GovernanceV3Avalanche.VM_DATA_HELPER,\n      dataWarehouseAddress: GovernanceV3Avalanche.DATA_WAREHOUSE,\n    },\n  },\n  // testnets\n  goerli: {\n    [ChainIdByName.Goerli]: {\n      contractAddress: '0xE8AD5ab6295c16D04257BC6Cd6D447ff4018FF89',\n      dataHelperContractAddress: '0xe10617A1ea760E174E82fBeb38a540d8ACe566f5',\n      dataWarehouseAddress: '0xC946cc6bb934bAf2A539BaB62c647aff09D2e2D8',\n    },\n  },\n  sepolia: {\n    [ChainIdByName.Sepolia]: {\n      contractAddress: '0xA1995F1d5A8A247c064a76F336E1C2ecD24Ef0D9',\n      dataHelperContractAddress: '0x133210F3fe2deEB34e65deB6861ee3dF87393977',\n      dataWarehouseAddress: '0xACd2b1bA0B85FaF0f45D4974Ba8ee538E157fBc6',\n    },\n    [ChainIdByName.AvalancheFuji]: {\n      contractAddress: '0x767AA57554690D23D1E0594E8746271C97e1A1e4',\n      dataHelperContractAddress: '0x133210F3fe2deEB34e65deB6861ee3dF87393977',\n      dataWarehouseAddress: '0x2F4bc3128D0D52ef954552FfEC28BC523462dc02',\n    },\n  },\n};\n\nconst govCoreChainId: Record<CoreNetworkName, number> = {\n  mainnet: ChainIdByName.EthereumMainnet,\n  // testnets\n  goerli: ChainIdByName.Goerli,\n  sepolia: ChainIdByName.Sepolia,\n};\n\nconst aditionalsAddresses: Record<CoreNetworkName, Record<string, string>> = {\n  mainnet: {\n    aaveAddress: AaveV3Ethereum.ASSETS.AAVE.UNDERLYING,\n    aAaveAddress: AaveV3Ethereum.ASSETS.AAVE.A_TOKEN,\n    stkAAVEAddress: AaveSafetyModule.STK_AAVE,\n    // for delegation\n    delegationHelper: GovernanceV3Ethereum.META_DELEGATE_HELPER,\n  },\n  // testnets\n  goerli: {\n    aaveAddress: '0xb6D88BfC5b145a558b279cf7692e6F02064889d0',\n    aAaveAddress: '0xD1ff82609FB63A0eee6FE7D2896d80d29491cCCd',\n    stkAAVEAddress: '0x1406A9Ea2B0ec8FD4bCa4F876DAae2a70a9856Ec',\n    delegationHelper: '0x1966133c190475E8385Dc1b4150B5f81c70DC578',\n  },\n  sepolia: {\n    aaveAddress: '0xdaEcee477B931b209e8123401EA37582ACB3811d',\n    aAaveAddress: '0x26aAB2aE39897338c2d91491C46c14a8c2a67919',\n    stkAAVEAddress: '0x354032B31339853A3D682613749F183328d07275',\n    delegationHelper: '0x7cc468E937ec7B06A2816B33AC159BC1273dF4A3',\n  },\n};\n\nexport const payloadsControllerChainIds: Record<CoreNetworkName, number[]> = {\n  mainnet: [\n    ChainIdByName.EthereumMainnet,\n    ChainIdByName.Polygon,\n    ChainIdByName.Avalanche,\n    ChainIdByName.Base,\n    ChainIdByName.Arbitrum,\n    ChainIdByName.Metis,\n    ChainIdByName.Optimism,\n  ],\n  goerli: [ChainIdByName.Goerli],\n  sepolia: [ChainIdByName.Sepolia, ChainIdByName.AvalancheFuji],\n};\n\nexport const votingMachineChainIds: Record<CoreNetworkName, number[]> = {\n  mainnet: [\n    ChainIdByName.EthereumMainnet,\n    ChainIdByName.Polygon,\n    ChainIdByName.Avalanche,\n  ],\n  goerli: [ChainIdByName.Goerli],\n  sepolia: [ChainIdByName.Sepolia, ChainIdByName.AvalancheFuji],\n};\n\nconst gelatoApiKeys: Record<string, string> = {\n  testnet: 'qGvvlJMoyDKyuMxqJjDwFslpgiBKZCXNXpnSjIxsICY_',\n  mainnet: '', // TODO: need add\n};\n\nexport const appConfigInit = (\n  providers: Record<number, ethers.providers.JsonRpcBatchProvider>,\n  coreNetwork: CoreNetworkName,\n) => {\n  return {\n    providers,\n    govCoreChainId: govCoreChainId[coreNetwork],\n    govCoreConfig: govCoreConfig[coreNetwork],\n    votingMachineConfig: votingMachineConfig[coreNetwork],\n    votingMachineChainIds: votingMachineChainIds[coreNetwork],\n    payloadsControllerConfig: payloadsControllerConfig[coreNetwork],\n    payloadsControllerChainIds: payloadsControllerChainIds[coreNetwork],\n\n    additional: aditionalsAddresses[coreNetwork],\n    gelatoApiKeys,\n  };\n};\n","import { BigNumber } from 'bignumber.js';\n\nexport type BigNumberValue = string | number | BigNumber;\n\nexport function valueToBigNumber(amount: BigNumberValue): BigNumber {\n  if (amount instanceof BigNumber) {\n    return amount;\n  }\n\n  return new BigNumber(amount);\n}\n\nexport function normalize(n: BigNumberValue, decimals: number): string {\n  return normalizeBN(n, decimals).toString(10);\n}\n\nexport function normalizeBN(n: BigNumberValue, decimals: number): BigNumber {\n  return valueToBigNumber(n).shiftedBy(decimals * -1);\n}\n","import { ethers } from 'ethers';\n\nexport function checkHash(hash: string) {\n  return {\n    notZero: hash !== ethers.constants.HashZero,\n    zero: hash === ethers.constants.HashZero,\n  };\n}\n","export const blockLimit = 1023;\n\nexport function getBlocksForEvents(\n  currentBlock: number,\n  startBlockNumber: number,\n  endBlockNumber: number | undefined,\n  lastBlockNumber: number | undefined,\n): { startBlock: number; endBlock: number } {\n  const endBlock =\n    endBlockNumber && endBlockNumber > 0 && endBlockNumber < currentBlock\n      ? endBlockNumber\n      : !!lastBlockNumber &&\n        isFinite(lastBlockNumber) &&\n        lastBlockNumber > startBlockNumber &&\n        lastBlockNumber < currentBlock\n      ? lastBlockNumber + 1\n      : currentBlock > startBlockNumber + blockLimit\n      ? startBlockNumber + blockLimit\n      : currentBlock;\n\n  const startBlock =\n    !!lastBlockNumber &&\n    isFinite(lastBlockNumber) &&\n    lastBlockNumber > startBlockNumber &&\n    lastBlockNumber < currentBlock &&\n    lastBlockNumber < endBlock\n      ? lastBlockNumber\n      : startBlockNumber < currentBlock\n      ? startBlockNumber\n      : currentBlock - blockLimit;\n\n  return { startBlock, endBlock };\n}\n\nexport async function getEventsBySteps<T>(\n  startBlock: number,\n  endBlock: number,\n  blockLimit: number,\n  callbackFunc: (startBlock: number, endBlock: number) => Promise<T>,\n) {\n  const blockSteps = Math.ceil((endBlock - startBlock) / blockLimit);\n\n  const eventsCountArray = new Array(blockSteps);\n  for (let i = 0; i < blockSteps; i++) {\n    eventsCountArray[i] = i;\n  }\n\n  const results = await Promise.all(\n    eventsCountArray.map(async (count) => {\n      const startBlockNumber = startBlock + blockLimit * count;\n      const endBlockNumber = startBlock + (blockLimit * count + blockLimit);\n\n      return await callbackFunc(\n        startBlockNumber,\n        endBlock > endBlockNumber ? endBlockNumber : endBlock,\n      );\n    }),\n  );\n\n  return results.flat();\n}\n","export interface PayloadForCreation {\n  chain: number;\n  accessLevel: number;\n  payloadsController: string;\n  payloadId: number;\n}\n\nexport enum BasicProposalState {\n  Null,\n  Created,\n  Active,\n  Queued,\n  Executed,\n  Failed,\n  Cancelled,\n  Expired,\n}\n\nexport enum VotingMachineProposalState {\n  NotCreated,\n  Active,\n  Finished,\n  SentToGovernance,\n}\n\nexport enum PayloadState {\n  None,\n  Created,\n  Queued,\n  Executed,\n  Cancelled,\n  Expired,\n}\n\nexport enum ProposalState {\n  Created,\n  Active,\n  Succeed,\n  Defeated,\n  Executed,\n  Expired,\n  Canceled,\n}\n\nexport type VotersData = {\n  proposalId: number;\n  address: string;\n  support: boolean;\n  votingPower: number;\n  transactionHash: string;\n  blockNumber: number;\n  chainId: number;\n  ensName?: string;\n};\n\nexport type InitialProposal = {\n  id: number;\n  votingChainId: number;\n  snapshotBlockHash: string;\n};\n\nexport type VotingMachineData = {\n  id: number;\n  forVotes: string;\n  againstVotes: string;\n  startTime: number;\n  endTime: number;\n  votingClosedAndSentBlockNumber: number;\n  votingClosedAndSentTimestamp: number;\n  l1BlockHash: string;\n  strategy: string;\n  sentToGovernance: boolean;\n  createdBlock: number;\n  votedInfo: {\n    support: boolean;\n    votingPower: string;\n  };\n  votingAssets: string[];\n  hasRequiredRoots: boolean;\n};\n\nexport type Payload = {\n  id: number;\n  chainId: number;\n  maximumAccessLevelRequired: number;\n  state: PayloadState;\n  createdAt: number;\n  queuedAt: number;\n  executedAt: number;\n  cancelledAt: number;\n  expirationTime: number;\n  delay: number;\n  gracePeriod: number;\n  payloadsController: string;\n  actionAddresses: string[];\n};\n\n// type for create payload actions\nexport type PayloadAction = {\n  payloadAddress: string;\n  withDelegateCall: boolean;\n  accessLevel: number;\n  value: number;\n  signature: string;\n  callData?: string;\n};\n\nexport type VotingConfig = {\n  accessLevel: number;\n  quorum: number;\n  differential: number;\n  minPropositionPower: number;\n  coolDownBeforeVotingStart: number;\n  votingDuration: number;\n};\n\nexport type ContractsConstants = {\n  precisionDivider: string;\n  cooldownPeriod: number;\n  expirationTime: number;\n  cancellationFee: string;\n};\n\nexport type InitialPayload = {\n  id: number;\n  chainId: number;\n  payloadsController: string;\n};\n\nexport interface BasicProposal {\n  id: number;\n  votingDuration: number;\n  creationTime: number;\n  accessLevel: number;\n  basicState: BasicProposalState;\n  queuingTime: number;\n  ipfsHash: string;\n  initialPayloads: InitialPayload[];\n  votingMachineData: VotingMachineData;\n  snapshotBlockHash: string;\n  creator: string;\n  canceledAt: number;\n  votingActivationTime: number;\n  votingChainId: number;\n  prerender: boolean;\n}\n\nexport interface ProposalData\n  extends BasicProposal,\n    Pick<ProposalMetadata, 'title'> {\n  payloads: Payload[];\n  votingMachineState: VotingMachineProposalState;\n}\n\ntype BlockHash = string;\nexport type Balance = {\n  blockHash: string;\n  tokenName: string;\n  underlyingAsset: string;\n  value: string;\n  basicValue: string;\n  userBalance: string;\n  isWithDelegatedPower: boolean;\n};\n\nexport type VotingBalance = Record<BlockHash, Balance[]>;\n\nexport interface ProposalWithoutState {\n  data: ProposalData;\n  precisionDivider: string;\n  config: VotingConfig;\n  timings: {\n    cooldownPeriod: number;\n    expirationTime: number;\n    executionPayloadTime: number;\n  };\n  balances: Balance[];\n}\n\nexport interface Proposal extends ProposalWithoutState {\n  state: ProposalState;\n}\n\nexport interface ProposalWithLoadings {\n  loading: boolean;\n  balanceLoading: boolean;\n  proposal: Proposal;\n}\n\nexport interface ProposalWithId extends ProposalWithLoadings {\n  id: number;\n}\n\nexport enum ProposalStateWithName {\n  Created = 'Created',\n  Active = 'Voting',\n  Succeed = 'Passed',\n  Failed = 'Failed',\n  Defeated = 'Failed',\n  Executed = 'Executed',\n  Expired = 'Expired',\n  Canceled = 'Canceled',\n  ActiveAll = 'Active',\n}\n\nexport enum ProposalEstimatedState {\n  Active = 'Will open for voting',\n  Succeed = 'Will pass',\n  Defeated = 'Will fail',\n  ProposalExecuted = 'Proposal will be executed',\n  PayloadsExecuted = 'Payloads will start being executed',\n  Expired = 'Will expire',\n}\n\nexport enum ProposalWaitForState {\n  WaitForActivateVoting = 'Pending voting activation',\n  WaitForCloseVoting = 'Pending voting closure',\n  WaitForQueueProposal = 'Proposal is time-locked',\n  WaitForExecuteProposal = 'Pending proposal execution',\n  WaitForQueuePayloads = 'Payloads are time-locked',\n  WaitForExecutePayloads = 'Pending payloads execution',\n}\n\nexport type ProposalMetadata = {\n  title: string;\n  description: string;\n  shortDescription: string;\n  ipfsHash: string;\n  originalIpfsHash: string;\n  aip: number;\n  discussions: string;\n  author: string;\n};\n\nexport interface FinishedProposalForList\n  extends Pick<ProposalMetadata, 'title'> {\n  id: number;\n  state: ProposalState;\n  finishedTimestamp: number;\n  ipfsHash: string;\n}\n\nexport interface CachedProposalDataItem {\n  proposal: {\n    data: {\n      id: number;\n      finishedTimestamp: number;\n      title: string;\n      ipfsHash: string;\n    };\n    state: ProposalState;\n  };\n}\n\nexport interface CachedProposalDataItemWithId extends CachedProposalDataItem {\n  id: number;\n}\n\nexport interface CachedDetails {\n  payloads: Payload[];\n  ipfs: ProposalMetadata;\n  proposal: BasicProposal;\n}\n","import { BigNumber } from 'bignumber.js';\nimport dayjs from 'dayjs';\n\nimport {\n  BasicProposalState,\n  PayloadState,\n  Proposal,\n  ProposalData as BasicProposal,\n  ProposalEstimatedState,\n  ProposalState,\n  ProposalWaitForState,\n  VotingMachineProposalState,\n} from '../types';\nimport { normalizeBN, valueToBigNumber } from './bignumber';\nimport { checkHash } from './checkHash';\n\nexport function normalizeVotes(forVotes: string, againstVotes: string) {\n  const forVotesN = normalizeBN(forVotes, 18).toNumber();\n  const againstVotesN = normalizeBN(againstVotes, 18).toNumber();\n\n  return { forVotes: forVotesN, againstVotes: againstVotesN };\n}\n\nexport function formatQuorum(\n  forVotes: string,\n  quorum: number,\n  precisionDivider: string,\n) {\n  const minQuorumVotes =\n    valueToBigNumber(quorum).multipliedBy(precisionDivider);\n  const normalizeMinQuorumVotes = normalizeBN(minQuorumVotes, 18).toNumber();\n\n  let quorumReached = false;\n  if (valueToBigNumber(forVotes).gte(minQuorumVotes)) {\n    quorumReached = true;\n  }\n\n  return {\n    minQuorumVotes,\n    normalizeMinQuorumVotes,\n    quorumReached,\n  };\n}\n\nexport function formatDiff(\n  forVotes: string,\n  againstVotes: string,\n  differential: number,\n  precisionDivider: string,\n) {\n  const diff = valueToBigNumber(forVotes).minus(againstVotes);\n  const requiredDiff =\n    valueToBigNumber(differential).multipliedBy(precisionDivider);\n  const normalizeRequiredDiff = normalizeBN(requiredDiff, 18).toNumber();\n\n  return { diff, requiredDiff, normalizeRequiredDiff };\n}\n\ninterface BasicProposalWithConfigsData {\n  proposalData: BasicProposal;\n  quorum: number;\n  differential: number;\n  precisionDivider: string;\n  cooldownPeriod: number;\n  executionPayloadTime: number;\n}\n\nexport function getProposalStepsAndAmounts({\n  proposalData,\n  quorum,\n  differential,\n  precisionDivider,\n  cooldownPeriod,\n  executionPayloadTime,\n}: BasicProposalWithConfigsData) {\n  const now = dayjs().unix();\n\n  const isVotingStarted =\n    proposalData.votingMachineState > VotingMachineProposalState.NotCreated;\n  const isVotingEnded =\n    proposalData.votingMachineData.endTime > 0 &&\n    now > proposalData.votingMachineData.endTime;\n\n  const isVotingClosed =\n    proposalData.votingMachineData.votingClosedAndSentTimestamp > 0 &&\n    now > proposalData.votingMachineData.votingClosedAndSentTimestamp;\n\n  const { forVotes, againstVotes } = normalizeVotes(\n    proposalData.votingMachineData.forVotes,\n    proposalData.votingMachineData.againstVotes,\n  );\n  const { normalizeMinQuorumVotes, quorumReached } = formatQuorum(\n    proposalData.votingMachineData.forVotes,\n    quorum,\n    precisionDivider,\n  );\n  const { normalizeRequiredDiff } = formatDiff(\n    proposalData.votingMachineData.forVotes,\n    proposalData.votingMachineData.againstVotes,\n    differential,\n    precisionDivider,\n  );\n\n  const lastPayloadQueuedAt = Math.max.apply(\n    null,\n    proposalData.payloads.map((payload) => payload?.queuedAt || 0),\n  );\n  const lastPayloadExecutedAt = Math.max.apply(\n    null,\n    proposalData.payloads.map((payload) => payload?.executedAt || 0),\n  );\n  const lastPayloadCanceledAt = Math.max.apply(\n    null,\n    proposalData.payloads.map((payload) => payload?.cancelledAt || 0),\n  );\n  const lastPayloadExpiredAt = Math.max.apply(\n    null,\n    proposalData.payloads.map((payload) => {\n      if (payload.queuedAt <= 0 && payload.state === PayloadState.Expired) {\n        return payload.expirationTime;\n      } else if (\n        payload.queuedAt > 0 &&\n        payload.state === PayloadState.Expired\n      ) {\n        return payload.queuedAt + payload.delay + payload.gracePeriod;\n      } else {\n        return 0;\n      }\n    }),\n  );\n\n  const predictPayloadExpiredTime = Math.max.apply(\n    null,\n    proposalData.payloads.map((payload) => {\n      if (payload?.state && payload.state === PayloadState.Created) {\n        return payload.expirationTime;\n      } else if (payload?.state && payload.state === PayloadState.Queued) {\n        return payload.queuedAt + payload.delay + payload.gracePeriod;\n      } else {\n        return 0;\n      }\n    }),\n  );\n\n  const allPayloadsExecuted = proposalData.payloads.every(\n    (payload) => payload?.state && payload.state === PayloadState.Executed,\n  );\n  const allPayloadsCanceled = proposalData.payloads.every(\n    (payload) => payload?.state && payload.state === PayloadState.Cancelled,\n  );\n  const allPayloadsExpired = proposalData.payloads.every(\n    (payload) => payload?.state && payload.state === PayloadState.Expired,\n  );\n\n  const isCanceled =\n    proposalData.basicState === BasicProposalState.Cancelled ||\n    allPayloadsCanceled;\n\n  const isExpired =\n    proposalData.basicState === BasicProposalState.Expired ||\n    allPayloadsExpired;\n\n  const isVotingActive = isVotingStarted && !isVotingEnded && !isCanceled;\n\n  const isVotingFailed =\n    isVotingEnded &&\n    (againstVotes >= forVotes || (againstVotes === 0 && forVotes === 0));\n\n  const isProposalQueued =\n    isVotingStarted &&\n    isVotingEnded &&\n    isVotingClosed &&\n    proposalData.votingMachineData.sentToGovernance &&\n    proposalData.queuingTime > 0 &&\n    now > proposalData.queuingTime + cooldownPeriod;\n\n  const isProposalExecuted =\n    isVotingEnded &&\n    isVotingClosed &&\n    !isVotingFailed &&\n    proposalData.basicState === BasicProposalState.Executed &&\n    !isCanceled;\n\n  const isPayloadsQueued =\n    isProposalExecuted && now > lastPayloadQueuedAt + executionPayloadTime;\n\n  const isPayloadsExecuted =\n    isVotingEnded &&\n    isVotingClosed &&\n    !isVotingFailed &&\n    proposalData.basicState === BasicProposalState.Executed &&\n    !isCanceled &&\n    allPayloadsExecuted &&\n    !isExpired;\n\n  let isProposalActive = true;\n  if (\n    proposalData.basicState === BasicProposalState.Null ||\n    proposalData.basicState === BasicProposalState.Created\n  ) {\n    isProposalActive = false;\n  } else if (isCanceled) {\n    isProposalActive = false;\n  } else if (isVotingFailed) {\n    isProposalActive = false;\n  } else if (isPayloadsExecuted) {\n    isProposalActive = false;\n  } else if (isExpired) {\n    isProposalActive = false;\n  }\n\n  return {\n    forVotes,\n    againstVotes,\n    normalizeMinQuorumVotes,\n    quorumReached,\n    normalizeRequiredDiff,\n    isVotingStarted,\n    isVotingActive,\n    isVotingEnded,\n    isVotingClosed,\n    isVotingFailed,\n    lastPayloadQueuedAt,\n    lastPayloadCanceledAt,\n    lastPayloadExecutedAt,\n    lastPayloadExpiredAt,\n    predictPayloadExpiredTime,\n    allPayloadsExecuted,\n    allPayloadsCanceled,\n    allPayloadsExpired,\n    isCanceled,\n    isExpired,\n    isProposalActive,\n    isProposalQueued,\n    isProposalExecuted,\n    isPayloadsQueued,\n    isPayloadsExecuted,\n  };\n}\n\nexport function getProposalState({ ...data }: BasicProposalWithConfigsData) {\n  const {\n    forVotes,\n    againstVotes,\n    quorumReached,\n    normalizeRequiredDiff,\n    isVotingActive,\n    isVotingEnded,\n    isVotingFailed,\n    isExpired,\n    allPayloadsExecuted,\n    isCanceled,\n    isPayloadsExecuted,\n  } = getProposalStepsAndAmounts(data);\n\n  if (\n    !isCanceled &&\n    data.proposalData.votingMachineState ===\n      VotingMachineProposalState.NotCreated &&\n    data.proposalData.basicState <= BasicProposalState.Active\n  ) {\n    return ProposalState.Created;\n  } else if (\n    isVotingActive &&\n    checkHash(data.proposalData.snapshotBlockHash).notZero\n  ) {\n    return ProposalState.Active;\n  } else if (\n    isVotingEnded &&\n    !isCanceled &&\n    forVotes > againstVotes + normalizeRequiredDiff &&\n    quorumReached &&\n    !allPayloadsExecuted &&\n    !isExpired\n  ) {\n    return ProposalState.Succeed;\n  } else if (isVotingFailed && !isCanceled) {\n    return ProposalState.Defeated;\n  } else if (isCanceled) {\n    return ProposalState.Canceled;\n  } else if (isPayloadsExecuted) {\n    return ProposalState.Executed;\n  } else {\n    return ProposalState.Expired;\n  }\n}\n\nfunction getStateTimestamp(proposal: Proposal) {\n  const {\n    isVotingEnded,\n    isVotingStarted,\n    isExpired,\n    lastPayloadExecutedAt,\n    lastPayloadCanceledAt,\n    lastPayloadExpiredAt,\n    allPayloadsExpired,\n    isCanceled,\n  } = getProposalStepsAndAmounts({\n    proposalData: proposal.data,\n    quorum: proposal.config.quorum,\n    differential: proposal.config.differential,\n    precisionDivider: proposal.precisionDivider,\n    cooldownPeriod: proposal.timings.cooldownPeriod,\n    executionPayloadTime: proposal.timings.executionPayloadTime,\n  });\n\n  if (proposal.state === ProposalState.Created && !isExpired && !isCanceled) {\n    return proposal.data.creationTime;\n  } else if (\n    proposal.data.votingMachineState ===\n      VotingMachineProposalState.NotCreated &&\n    !isExpired &&\n    !isCanceled\n  ) {\n    return (\n      proposal.data.creationTime + proposal.config.coolDownBeforeVotingStart\n    );\n  } else if (\n    checkHash(proposal.data.snapshotBlockHash).notZero &&\n    !isVotingStarted &&\n    !isExpired &&\n    !isCanceled\n  ) {\n    return proposal.data.votingActivationTime;\n  } else if (!isVotingEnded && isVotingStarted && !isExpired && !isCanceled) {\n    return proposal.data.votingMachineData.startTime;\n  } else if (\n    isVotingStarted &&\n    isVotingEnded &&\n    proposal.state !== ProposalState.Executed &&\n    !isExpired &&\n    !isCanceled\n  ) {\n    return proposal.data.votingMachineData.endTime > 0\n      ? proposal.data.votingMachineData.endTime\n      : proposal.data.creationTime + proposal.config.coolDownBeforeVotingStart;\n  } else if (proposal.state === ProposalState.Defeated) {\n    return proposal.data.votingMachineData.endTime;\n  } else if (proposal.state === ProposalState.Executed) {\n    return lastPayloadExecutedAt;\n  } else if (proposal.state === ProposalState.Canceled) {\n    return lastPayloadCanceledAt > proposal.data.canceledAt\n      ? lastPayloadCanceledAt\n      : proposal.data.canceledAt;\n  } else if (\n    proposal.data.basicState === BasicProposalState.Executed &&\n    allPayloadsExpired\n  ) {\n    return lastPayloadExpiredAt;\n  } else {\n    return proposal.data.creationTime + proposal.timings.expirationTime;\n  }\n}\n\nexport function getEstimatedState(\n  proposal: Proposal,\n  forVotesS: string,\n  againstVotesS: string,\n) {\n  const now = dayjs().unix();\n\n  const {\n    isVotingStarted,\n    isVotingEnded,\n    isVotingClosed,\n    lastPayloadQueuedAt,\n    predictPayloadExpiredTime,\n  } = getProposalStepsAndAmounts({\n    proposalData: proposal.data,\n    quorum: proposal.config.quorum,\n    differential: proposal.config.differential,\n    precisionDivider: proposal.precisionDivider,\n    cooldownPeriod: proposal.timings.cooldownPeriod,\n    executionPayloadTime: proposal.timings.executionPayloadTime,\n  });\n\n  const { forVotes, againstVotes } = normalizeVotes(forVotesS, againstVotesS);\n  const { quorumReached } = formatQuorum(\n    forVotesS,\n    proposal.config.quorum,\n    proposal.precisionDivider,\n  );\n  const { normalizeRequiredDiff } = formatDiff(\n    forVotesS,\n    againstVotesS,\n    proposal.config.differential,\n    proposal.precisionDivider,\n  );\n\n  const isVotingDefeated =\n    againstVotes >= forVotes ||\n    (againstVotes === 0 && forVotes === 0) ||\n    !quorumReached;\n\n  const isProposalWaitForQueued =\n    isVotingStarted &&\n    isVotingEnded &&\n    isVotingClosed &&\n    !isVotingDefeated &&\n    proposal.data.votingMachineData.sentToGovernance &&\n    proposal.data.queuingTime > 0 &&\n    now < proposal.data.queuingTime + proposal.timings.cooldownPeriod;\n\n  const isPayloadsWaitForQueued =\n    proposal.data.basicState === BasicProposalState.Executed &&\n    now < lastPayloadQueuedAt + proposal.timings.executionPayloadTime;\n\n  const executedTimestamp =\n    proposal.data.queuingTime > 0 && lastPayloadQueuedAt === 0\n      ? proposal.data.queuingTime + proposal.timings.cooldownPeriod\n      : proposal.data.queuingTime > 0 && lastPayloadQueuedAt > 0\n      ? lastPayloadQueuedAt + proposal.timings.executionPayloadTime\n      : 0;\n\n  if (\n    now <=\n    proposal.data.creationTime + proposal.config.coolDownBeforeVotingStart\n  ) {\n    return {\n      estimatedState: ProposalEstimatedState.Active,\n      timestampForEstimatedState:\n        proposal.data.creationTime + proposal.config.coolDownBeforeVotingStart,\n    };\n  } else if (\n    isVotingStarted &&\n    !isVotingEnded &&\n    forVotes > againstVotes + normalizeRequiredDiff &&\n    quorumReached\n  ) {\n    return {\n      estimatedState: ProposalEstimatedState.Succeed,\n      timestampForEstimatedState: proposal.data.votingMachineData.endTime,\n    };\n  } else if (isVotingDefeated && isVotingStarted && !isVotingEnded) {\n    return {\n      estimatedState: ProposalEstimatedState.Defeated,\n      timestampForEstimatedState: proposal.data.votingMachineData.endTime,\n    };\n  } else if (isProposalWaitForQueued && !isPayloadsWaitForQueued) {\n    return {\n      estimatedState: ProposalEstimatedState.ProposalExecuted,\n      timestampForEstimatedState: executedTimestamp,\n    };\n  } else if (isPayloadsWaitForQueued) {\n    return {\n      estimatedState: ProposalEstimatedState.PayloadsExecuted,\n      timestampForEstimatedState: executedTimestamp,\n    };\n  } else {\n    return {\n      estimatedState: ProposalEstimatedState.Expired,\n      timestampForEstimatedState:\n        proposal.data.basicState === BasicProposalState.Executed\n          ? predictPayloadExpiredTime\n          : proposal.data.creationTime + proposal.timings.expirationTime,\n    };\n  }\n}\n\nexport function getWaitForState(proposal: Proposal) {\n  const now = dayjs().unix();\n\n  const {\n    isVotingStarted,\n    isVotingEnded,\n    isVotingClosed,\n    isVotingFailed,\n    isProposalExecuted,\n    isProposalQueued,\n    isPayloadsQueued,\n    lastPayloadQueuedAt,\n  } = getProposalStepsAndAmounts({\n    proposalData: proposal.data,\n    quorum: proposal.config.quorum,\n    differential: proposal.config.differential,\n    precisionDivider: proposal.precisionDivider,\n    cooldownPeriod: proposal.timings.cooldownPeriod,\n    executionPayloadTime: proposal.timings.executionPayloadTime,\n  });\n\n  if (!isVotingFailed) {\n    if (\n      now >\n        proposal.data.creationTime +\n          proposal.config.coolDownBeforeVotingStart &&\n      !isVotingStarted &&\n      !isVotingEnded &&\n      !isVotingClosed\n    ) {\n      return ProposalWaitForState.WaitForActivateVoting;\n    } else if (isVotingStarted && isVotingEnded && !isVotingClosed) {\n      return ProposalWaitForState.WaitForCloseVoting;\n    } else if (\n      isVotingStarted &&\n      isVotingEnded &&\n      isVotingClosed &&\n      proposal.data.votingMachineData.sentToGovernance &&\n      proposal.data.queuingTime <= 0\n    ) {\n      return ProposalWaitForState.WaitForQueueProposal;\n    } else if (\n      isProposalQueued &&\n      proposal.data.basicState !== BasicProposalState.Executed\n    ) {\n      return ProposalWaitForState.WaitForExecuteProposal;\n    } else if (isProposalExecuted && lastPayloadQueuedAt === 0) {\n      return ProposalWaitForState.WaitForQueuePayloads;\n    } else if (isPayloadsQueued) {\n      return ProposalWaitForState.WaitForExecutePayloads;\n    } else {\n      return undefined;\n    }\n  } else {\n    return undefined;\n  }\n}\n\nexport function formatProposal(proposal: Proposal) {\n  const {\n    forVotes,\n    normalizeMinQuorumVotes,\n    againstVotes,\n    normalizeRequiredDiff,\n  } = getProposalStepsAndAmounts({\n    proposalData: proposal.data,\n    quorum: proposal.config.quorum,\n    differential: proposal.config.differential,\n    precisionDivider: proposal.precisionDivider,\n    cooldownPeriod: proposal.timings.cooldownPeriod,\n    executionPayloadTime: proposal.timings.executionPayloadTime,\n  });\n\n  const stateTimestamp = getStateTimestamp(proposal);\n  const { estimatedState, timestampForEstimatedState } = getEstimatedState(\n    proposal,\n    proposal.data.votingMachineData.forVotes,\n    proposal.data.votingMachineData.againstVotes,\n  );\n  const waitForState = getWaitForState(proposal);\n\n  const allVotes = new BigNumber(proposal.data.votingMachineData.forVotes).plus(\n    proposal.data.votingMachineData.againstVotes,\n  );\n\n  const votingPowerBasic = proposal.balances\n    .map((balance) => valueToBigNumber(balance.basicValue).toNumber())\n    .reduce((sum, value) => sum + value, 0);\n\n  const votingPower = proposal.balances\n    .map((balance) => valueToBigNumber(balance.value).toNumber())\n    .reduce((sum, value) => sum + value, 0);\n\n  const votingTokens = proposal.balances;\n\n  const requiredForVotes =\n    againstVotes + normalizeRequiredDiff < normalizeMinQuorumVotes\n      ? normalizeMinQuorumVotes\n      : againstVotes + normalizeRequiredDiff;\n  const requiredAgainstVotes = forVotes === 0 ? 0 : forVotes;\n\n  const forPercent = allVotes.gt(0)\n    ? new BigNumber(forVotes)\n        .dividedBy(requiredForVotes)\n        .multipliedBy(100)\n        .toNumber()\n    : 0;\n  const againstPercent = allVotes.gt(0)\n    ? new BigNumber(againstVotes)\n        .dividedBy(requiredAgainstVotes > 0 ? requiredAgainstVotes : 1)\n        .multipliedBy(100)\n        .toNumber()\n    : 0;\n\n  return {\n    forPercent,\n    forVotes,\n    againstPercent,\n    againstVotes,\n    minQuorumVotes: normalizeMinQuorumVotes,\n    requiredDiff: normalizeRequiredDiff,\n    requiredForVotes,\n    requiredAgainstVotes,\n    stateTimestamp,\n    estimatedState,\n    timestampForEstimatedState,\n    waitForState,\n    votingPowerBasic,\n    votingPower,\n    votedPower: normalizeBN(\n      proposal.data.votingMachineData.votedInfo.votingPower,\n      18,\n    ).toNumber(),\n    votingTokens,\n  };\n}\n","import { ethers } from 'ethers';\n\nimport { ChainIdByName } from './chains';\n\nconst getAverageBlockTime = (chainId: number) => {\n  switch (chainId) {\n    case ChainIdByName.EthereumMainnet:\n      return 13;\n    case ChainIdByName.Polygon:\n      return 3;\n    case ChainIdByName.Avalanche:\n      return 5;\n    case ChainIdByName.Binance:\n      return 4;\n    case ChainIdByName.Base:\n      return 2;\n    case ChainIdByName.Arbitrum:\n      return 1;\n    case ChainIdByName.Metis:\n      return 2;\n    case ChainIdByName.Optimism:\n      return 2;\n    case ChainIdByName.Sepolia:\n      return 13;\n    case ChainIdByName.Goerli:\n      return 13;\n    case ChainIdByName.GoerliOptimism:\n      return 2;\n    case ChainIdByName.AvalancheFuji:\n      return 5;\n    case ChainIdByName.Mumbai:\n      return 3;\n    case ChainIdByName.BnbTest:\n      return 4;\n    default:\n      return 13;\n  }\n};\n\nexport async function getBlockNumberByTimestamp(\n  chainId: number,\n  targetTimestamp: number,\n  provider: ethers.providers.JsonRpcBatchProvider,\n) {\n  const blocksDiff = 100;\n  const MAX_ITERATIONS = 10;\n\n  let iterationCount = 0;\n  let averageBlockTime = getAverageBlockTime(chainId);\n\n  const currentBlock = await provider.getBlock('latest');\n\n  if (targetTimestamp > currentBlock.timestamp) {\n    throw new Error('Target timestamp is in the future.');\n  }\n\n  let previousBlockTimestamp = currentBlock.timestamp;\n  let previousBlockNumber = currentBlock.number;\n  let estimatedBlockNumber;\n  let estimatedBlock;\n\n  do {\n    // Make a guess\n\n    if (previousBlockTimestamp >= targetTimestamp) {\n      // step back\n      estimatedBlockNumber =\n        previousBlockNumber -\n        Math.floor(\n          (previousBlockTimestamp - targetTimestamp) / averageBlockTime,\n        );\n    } else {\n      // step forward\n      estimatedBlockNumber =\n        previousBlockNumber +\n        Math.floor(\n          (previousBlockTimestamp - targetTimestamp) / averageBlockTime,\n        );\n    }\n\n    if (estimatedBlockNumber < 0) {\n      throw new Error('Estimated block number is below zero.');\n    }\n\n    // Get block data\n    estimatedBlock = await provider.getBlock(estimatedBlockNumber);\n\n    // Calculate a new average block time based on the difference of the timestamps\n    averageBlockTime = Math.ceil(\n      (estimatedBlock.timestamp - previousBlockTimestamp) /\n        (estimatedBlockNumber - previousBlockNumber),\n    );\n\n    previousBlockTimestamp = estimatedBlock.timestamp;\n    previousBlockNumber = estimatedBlock.number;\n\n    iterationCount++;\n  } while (\n    Math.abs(estimatedBlock.timestamp - targetTimestamp) >\n      blocksDiff * averageBlockTime &&\n    iterationCount < MAX_ITERATIONS\n  );\n\n  if (iterationCount === MAX_ITERATIONS) {\n    throw new Error('Maximum iterations reached without converging.');\n  }\n\n  // if estimated block timestamp <= target\n  let minBlockNumber = estimatedBlock.number - 1;\n  let maxBlockNumber = estimatedBlock.number + blocksDiff * 2;\n\n  // if estimated block timestamp > target\n  if (estimatedBlock.timestamp > targetTimestamp) {\n    minBlockNumber = estimatedBlock.number - blocksDiff * 2;\n    maxBlockNumber = estimatedBlock.number;\n  }\n\n  return {\n    minBlockNumber,\n    maxBlockNumber,\n  };\n}\n","import { IGovernanceDataHelper } from '../contracts/IGovernanceDataHelper';\nimport { VotingConfig } from '../types';\n\nexport async function getGovCoreConfigs(\n  govCoreDataHelper: IGovernanceDataHelper,\n  govCoreContractAddress: string,\n) {\n  const accessLevels = [1, 2]; // access levels that we canâ€™t get from contracts in any way, so far there are only two of them, we need to keep an eye on that suddenly there will be more of them\n  const constants = await govCoreDataHelper.getConstants(\n    govCoreContractAddress,\n    accessLevels,\n  );\n\n  const contractsConstants = {\n    precisionDivider: constants.precisionDivider.toString(),\n    cooldownPeriod: constants.cooldownPeriod.toNumber(),\n    expirationTime: constants.expirationTime.toNumber(),\n    cancellationFee: constants.cancellationFee.toString(),\n  };\n\n  const configs: VotingConfig[] = [];\n\n  for (let i = 0; i < accessLevels.length; i++) {\n    const votingConfig = constants.votingConfigs[i];\n\n    const config: VotingConfig = {\n      accessLevel: votingConfig.accessLevel,\n      votingDuration: votingConfig.config.votingDuration,\n      quorum: votingConfig.config.yesThreshold.toNumber() || 200,\n      differential: votingConfig.config.yesNoDifferential.toNumber() || 50,\n      coolDownBeforeVotingStart: votingConfig.config.coolDownBeforeVotingStart,\n      minPropositionPower: votingConfig.config.minPropositionPower.toNumber(),\n    };\n\n    configs.push(config);\n  }\n\n  return {\n    contractsConstants,\n    configs,\n  };\n}\n","// payloads created\nimport { IGovernanceCore } from '../contracts/IGovernanceCore';\nimport { IPayloadsControllerCore } from '../contracts/IPayloadsControllerCore';\nimport { IVotingMachineWithProofs } from '../contracts/IVotingMachineWithProofs';\nimport { blockLimit, getEventsBySteps } from './eventsHelpres';\n\nasync function getPayloadsCreatedEvents(\n  startBlock: number,\n  endBlock: number,\n  payloadsController: IPayloadsControllerCore,\n  payloadsControllerAddress: string,\n  chainId: number,\n) {\n  const events = await payloadsController.queryFilter(\n    payloadsController.filters.PayloadCreated(),\n    startBlock,\n    endBlock,\n  );\n\n  return events\n    .sort((a, b) => b.blockNumber - a.blockNumber)\n    .map((event) => ({\n      payloadId: event.args.payloadId,\n      chainId,\n      transactionHash: event.transactionHash,\n      blockNumber: event.blockNumber,\n      payloadsController: payloadsControllerAddress,\n    }));\n}\n\nexport async function getPayloadsCreated(\n  startBlock: number,\n  endBlock: number,\n  payloadsController: IPayloadsControllerCore,\n  payloadsControllerAddress: string,\n  chainId: number,\n) {\n  const callbackFunc = async (\n    startBlockNumber: number,\n    endBlockNumber: number,\n  ) => {\n    return await getPayloadsCreatedEvents(\n      startBlockNumber,\n      endBlockNumber,\n      payloadsController,\n      payloadsControllerAddress,\n      chainId,\n    );\n  };\n\n  return getEventsBySteps(startBlock, endBlock, blockLimit, callbackFunc);\n}\n\n// proposal created\nasync function getProposalCreatedEvents(\n  startBlock: number,\n  endBlock: number,\n  govCore: IGovernanceCore,\n) {\n  const events = await govCore.queryFilter(\n    govCore.filters.ProposalCreated(),\n    startBlock,\n    endBlock,\n  );\n\n  return events\n    .sort((a, b) => b.blockNumber - a.blockNumber)\n    .map((event) => ({\n      proposalId: event.args.proposalId.toNumber(),\n      transactionHash: event.transactionHash,\n      blockNumber: event.blockNumber,\n    }));\n}\n\nexport async function getProposalCreated(\n  startBlock: number,\n  endBlock: number,\n  govCore: IGovernanceCore,\n) {\n  const callbackFunc = async (\n    startBlockNumber: number,\n    endBlockNumber: number,\n  ) => {\n    return await getProposalCreatedEvents(\n      startBlockNumber,\n      endBlockNumber,\n      govCore,\n    );\n  };\n\n  return getEventsBySteps(startBlock, endBlock, blockLimit, callbackFunc);\n}\n\n// proposal activate for voting\nasync function getProposalActivatedEvents(\n  startBlock: number,\n  endBlock: number,\n  govCore: IGovernanceCore,\n) {\n  const events = await govCore.queryFilter(\n    govCore.filters.VotingActivated(),\n    startBlock,\n    endBlock,\n  );\n\n  return events\n    .sort((a, b) => b.blockNumber - a.blockNumber)\n    .map((event) => ({\n      proposalId: event.args.proposalId.toNumber(),\n      transactionHash: event.transactionHash,\n      blockNumber: event.blockNumber,\n    }));\n}\n\nexport async function getProposalActivated(\n  startBlock: number,\n  endBlock: number,\n  govCore: IGovernanceCore,\n) {\n  const callbackFunc = async (\n    startBlockNumber: number,\n    endBlockNumber: number,\n  ) => {\n    return await getProposalActivatedEvents(\n      startBlockNumber,\n      endBlockNumber,\n      govCore,\n    );\n  };\n\n  return getEventsBySteps(startBlock, endBlock, blockLimit, callbackFunc);\n}\n\n// voting activate on VM\nasync function getProposalActivatedOnVMEvents(\n  startBlock: number,\n  endBlock: number,\n  votingMachine: IVotingMachineWithProofs,\n) {\n  const events = await votingMachine.queryFilter(\n    votingMachine.filters.ProposalVoteStarted(),\n    startBlock,\n    endBlock,\n  );\n\n  return events\n    .sort((a, b) => b.blockNumber - a.blockNumber)\n    .map((event) => ({\n      proposalId: event.args.proposalId.toNumber(),\n      transactionHash: event.transactionHash,\n      blockNumber: event.blockNumber,\n    }));\n}\n\nexport async function getProposalActivatedOnVM(\n  startBlock: number,\n  endBlock: number,\n  votingMachine: IVotingMachineWithProofs,\n) {\n  const callbackFunc = async (\n    startBlockNumber: number,\n    endBlockNumber: number,\n  ) => {\n    return await getProposalActivatedOnVMEvents(\n      startBlockNumber,\n      endBlockNumber,\n      votingMachine,\n    );\n  };\n\n  return getEventsBySteps(startBlock, endBlock, blockLimit, callbackFunc);\n}\n\n// voting closed on VM and voting results sent\nasync function getProposalVotingClosedEvents(\n  startBlock: number,\n  endBlock: number,\n  votingMachine: IVotingMachineWithProofs,\n) {\n  const events = await votingMachine.queryFilter(\n    votingMachine.filters.ProposalResultsSent(),\n    startBlock,\n    endBlock,\n  );\n\n  return events\n    .sort((a, b) => b.blockNumber - a.blockNumber)\n    .map((event) => ({\n      proposalId: event.args.proposalId.toNumber(),\n      transactionHash: event.transactionHash,\n      blockNumber: event.blockNumber,\n    }));\n}\n\nexport async function getProposalVotingClosed(\n  startBlock: number,\n  endBlock: number,\n  votingMachine: IVotingMachineWithProofs,\n) {\n  const callbackFunc = async (\n    startBlockNumber: number,\n    endBlockNumber: number,\n  ) => {\n    return await getProposalVotingClosedEvents(\n      startBlockNumber,\n      endBlockNumber,\n      votingMachine,\n    );\n  };\n\n  return getEventsBySteps(startBlock, endBlock, blockLimit, callbackFunc);\n}\n\n// proposal queued\nasync function getProposalQueuedEvents(\n  startBlock: number,\n  endBlock: number,\n  govCore: IGovernanceCore,\n) {\n  const events = await govCore.queryFilter(\n    govCore.filters.ProposalQueued(),\n    startBlock,\n    endBlock,\n  );\n\n  return events\n    .sort((a, b) => b.blockNumber - a.blockNumber)\n    .map((event) => ({\n      proposalId: event.args.proposalId.toNumber(),\n      transactionHash: event.transactionHash,\n      blockNumber: event.blockNumber,\n    }));\n}\n\nexport async function getProposalQueued(\n  startBlock: number,\n  endBlock: number,\n  govCore: IGovernanceCore,\n) {\n  const callbackFunc = async (\n    startBlockNumber: number,\n    endBlockNumber: number,\n  ) => {\n    return await getProposalQueuedEvents(\n      startBlockNumber,\n      endBlockNumber,\n      govCore,\n    );\n  };\n\n  return getEventsBySteps(startBlock, endBlock, blockLimit, callbackFunc);\n}\n\n// payloads queued\nasync function getPayloadsQueuedEvents(\n  startBlock: number,\n  endBlock: number,\n  payloadsController: IPayloadsControllerCore,\n  payloadsControllerAddress: string,\n  chainId: number,\n) {\n  const events = await payloadsController.queryFilter(\n    payloadsController.filters.PayloadQueued(),\n    startBlock,\n    endBlock,\n  );\n\n  return events\n    .sort((a, b) => b.blockNumber - a.blockNumber)\n    .map((event) => ({\n      payloadId: event.args.payloadId,\n      chainId,\n      transactionHash: event.transactionHash,\n      blockNumber: event.blockNumber,\n      payloadsController: payloadsControllerAddress,\n    }));\n}\n\nexport async function getPayloadsQueued(\n  startBlock: number,\n  endBlock: number,\n  payloadsController: IPayloadsControllerCore,\n  payloadsControllerAddress: string,\n  chainId: number,\n) {\n  const callbackFunc = async (\n    startBlockNumber: number,\n    endBlockNumber: number,\n  ) => {\n    return await getPayloadsQueuedEvents(\n      startBlockNumber,\n      endBlockNumber,\n      payloadsController,\n      payloadsControllerAddress,\n      chainId,\n    );\n  };\n\n  return getEventsBySteps(startBlock, endBlock, blockLimit, callbackFunc);\n}\n\n// payloads executed\nasync function getPayloadsExecutedEvents(\n  startBlock: number,\n  endBlock: number,\n  payloadsController: IPayloadsControllerCore,\n  payloadsControllerAddress: string,\n  chainId: number,\n) {\n  const events = await payloadsController.queryFilter(\n    payloadsController.filters.PayloadExecuted(),\n    startBlock,\n    endBlock,\n  );\n\n  return events\n    .sort((a, b) => b.blockNumber - a.blockNumber)\n    .map((event) => ({\n      payloadId: event.args.payloadId,\n      chainId,\n      transactionHash: event.transactionHash,\n      blockNumber: event.blockNumber,\n      payloadsController: payloadsControllerAddress,\n    }));\n}\n\nexport async function getPayloadsExecuted(\n  startBlock: number,\n  endBlock: number,\n  payloadsController: IPayloadsControllerCore,\n  payloadsControllerAddress: string,\n  chainId: number,\n) {\n  const callbackFunc = async (\n    startBlockNumber: number,\n    endBlockNumber: number,\n  ) => {\n    return await getPayloadsExecutedEvents(\n      startBlockNumber,\n      endBlockNumber,\n      payloadsController,\n      payloadsControllerAddress,\n      chainId,\n    );\n  };\n\n  return getEventsBySteps(startBlock, endBlock, blockLimit, callbackFunc);\n}\n","import dayjs from 'dayjs';\nimport { ethers } from 'ethers';\n\nimport { IGovernanceDataHelper } from '../contracts/IGovernanceDataHelper';\nimport { IVotingMachineDataHelper } from '../contracts/IVotingMachineDataHelper';\nimport {\n  BasicProposal,\n  ProposalData,\n  VotingMachineProposalState,\n} from '../types';\n\nexport function getVotingMachineProposalState(proposal: BasicProposal) {\n  const now = dayjs().unix();\n  if (proposal.votingMachineData.startTime === 0) {\n    return VotingMachineProposalState.NotCreated;\n  } else if (now <= proposal.votingMachineData.endTime) {\n    return VotingMachineProposalState.Active;\n  } else if (proposal.votingMachineData.votingClosedAndSentBlockNumber === 0) {\n    return VotingMachineProposalState.Finished;\n  } else {\n    return VotingMachineProposalState.SentToGovernance;\n  }\n}\n\nexport function formatVotingMachineData(\n  id: number,\n  votingMachineData: IVotingMachineDataHelper.ProposalStructOutput,\n) {\n  return {\n    id: id,\n    forVotes: votingMachineData.proposalData.forVotes.toString(),\n    againstVotes: votingMachineData.proposalData.againstVotes.toString(),\n    startTime: votingMachineData.proposalData.startTime,\n    endTime: votingMachineData.proposalData.endTime,\n    votingClosedAndSentBlockNumber:\n      votingMachineData.proposalData.votingClosedAndSentBlockNumber.toNumber(),\n    votingClosedAndSentTimestamp:\n      votingMachineData.proposalData.votingClosedAndSentTimestamp,\n    l1BlockHash:\n      votingMachineData?.voteConfig.l1ProposalBlockHash ||\n      ethers.constants.HashZero,\n    strategy: votingMachineData.strategy,\n    sentToGovernance: votingMachineData.proposalData.sentToGovernance,\n    createdBlock: votingMachineData.proposalData.creationBlockNumber.toNumber(),\n    votedInfo: {\n      support: votingMachineData.votedInfo.support,\n      votingPower: votingMachineData.votedInfo.votingPower.toString(),\n    },\n    votingAssets: votingMachineData.votingAssets,\n    hasRequiredRoots: votingMachineData.hasRequiredRoots,\n  };\n}\n\nexport function updateVotingMachineData(\n  proposals: ProposalData[],\n  votingMachineDataHelperData: IVotingMachineDataHelper.ProposalStructOutput[],\n  ids: number[],\n) {\n  const proposalsData: BasicProposal[] = [];\n\n  ids.forEach((id) => {\n    const govData = proposals.find((proposal) => proposal?.id === id);\n    if (govData) {\n      const votingMachineData =\n        votingMachineDataHelperData.find(\n          (proposal) => proposal.proposalData.id.toNumber() === govData.id,\n        ) || votingMachineDataHelperData[0];\n\n      const proposalData = {\n        id: govData.id,\n        votingDuration:\n          +votingMachineData?.voteConfig.votingDuration ||\n          govData.votingDuration,\n        creationTime: govData.creationTime,\n        accessLevel: govData.accessLevel,\n        basicState: govData.basicState,\n        queuingTime: govData.queuingTime,\n        ipfsHash: govData.ipfsHash,\n        initialPayloads: govData.initialPayloads,\n        snapshotBlockHash: govData.snapshotBlockHash,\n        creator: govData.creator,\n        canceledAt: govData.canceledAt,\n        votingActivationTime: govData.votingActivationTime,\n        votingChainId: govData.votingChainId,\n        votingMachineData: formatVotingMachineData(\n          govData.id,\n          votingMachineData,\n        ),\n        prerender: govData.prerender,\n      };\n\n      proposalsData.push(proposalData);\n    }\n  });\n\n  return proposalsData;\n}\n\nexport function getDetailedProposalsData(\n  govCoreDataHelperData: IGovernanceDataHelper.ProposalStructOutput[],\n  votingMachineDataHelperData: IVotingMachineDataHelper.ProposalStructOutput[],\n  ids: number[],\n  prerender?: boolean,\n): BasicProposal[] {\n  const proposalsData: BasicProposal[] = [];\n\n  for (let i = 0; i < ids.length; i++) {\n    const govData = govCoreDataHelperData[i];\n\n    const votingMachineData =\n      votingMachineDataHelperData.find(\n        (proposal) =>\n          proposal.proposalData.id.toNumber() === govData.id.toNumber(),\n      ) || votingMachineDataHelperData[i];\n\n    const proposalData = {\n      id: govData.id.toNumber(),\n      votingDuration:\n        +votingMachineData?.voteConfig.votingDuration ||\n        +govData.proposalData.votingDuration,\n      creationTime: +govData.proposalData.creationTime,\n      accessLevel: +govData.proposalData.accessLevel,\n      basicState: +govData.proposalData.state,\n      queuingTime: +govData.proposalData.queuingTime,\n      ipfsHash: govData.proposalData.ipfsHash,\n      initialPayloads: govData.proposalData.payloads.map((payload) => {\n        return {\n          id: payload.payloadId,\n          chainId: payload.chain.toNumber(),\n          payloadsController: payload.payloadsController,\n        };\n      }),\n      snapshotBlockHash: govData.proposalData.snapshotBlockHash,\n      creator: govData.proposalData.creator,\n      canceledAt: govData.proposalData.cancelTimestamp,\n      votingActivationTime: govData.proposalData.votingActivationTime,\n      votingChainId: govData.votingChainId.toNumber(),\n      votingMachineData: formatVotingMachineData(\n        govData.id.toNumber(),\n        votingMachineData,\n      ),\n      prerender: !!prerender,\n    };\n\n    proposalsData.push(proposalData);\n  }\n\n  return proposalsData;\n}\n","import { IVotingMachineWithProofs } from '../contracts/IVotingMachineWithProofs';\nimport { normalizeBN } from './bignumber';\nimport { getEventsBySteps } from './eventsHelpres';\n\nasync function getVoteEvents(\n  votingMachine: IVotingMachineWithProofs,\n  startBlock: number,\n  endBlock: number,\n  chainId: number,\n) {\n  const events = await votingMachine.queryFilter(\n    votingMachine.filters.VoteEmitted(),\n    startBlock,\n    endBlock,\n  );\n\n  return events\n    .sort((a, b) => b.blockNumber - a.blockNumber)\n    .map((event) => ({\n      proposalId: event.args.proposalId.toNumber(),\n      address: event.args.voter.toString(),\n      support: event.args.support,\n      votingPower: normalizeBN(\n        event.args.votingPower.toString(),\n        18,\n      ).toNumber(),\n      transactionHash: event.transactionHash,\n      blockNumber: event.blockNumber,\n      chainId,\n    }));\n}\n\nexport async function getVoters(\n  endBlock: number,\n  startBlock: number,\n  blockLimit: number,\n  votingMachine: IVotingMachineWithProofs,\n  chainId: number,\n) {\n  const callbackFunc = async (\n    startBlockNumber: number,\n    endBlockNumber: number,\n  ) => {\n    return await getVoteEvents(\n      votingMachine,\n      startBlockNumber,\n      endBlockNumber,\n      chainId,\n    );\n  };\n\n  return getEventsBySteps(startBlock, endBlock, blockLimit, callbackFunc);\n}\n","import { ethers } from 'ethers';\nimport { base58 } from 'ethers/lib/utils';\nimport matter from 'gray-matter';\n\nimport { ProposalMetadata } from '../types';\n\nexport const ipfsGateway = 'https://ipfs.io/ipfs';\n\nexport function getLink(hash: string, gateway: string): string {\n  return `${gateway}/${hash}`;\n}\ntype MemorizeMetadata = Record<string, ProposalMetadata>;\n\nconst MEMORIZE: MemorizeMetadata = {};\n\nconst incorectedHashses = [\n  '0x0000000000000000000000000000000000000000000000000000000000000020',\n  ethers.constants.HashZero,\n];\n\nexport async function getProposalMetadata(\n  hash: string,\n  gateway = ipfsGateway,\n  setIpfsError?: (hash: string, text?: string) => void,\n  errorText?: string,\n): Promise<ProposalMetadata> {\n  const ipfsHash = hash.startsWith('0x')\n    ? base58.encode(Buffer.from(`1220${hash.slice(2)}`, 'hex'))\n    : hash;\n\n  if (MEMORIZE[ipfsHash]) return MEMORIZE[ipfsHash];\n\n  if (incorectedHashses.some((h) => hash === h)) {\n    if (!!setIpfsError) {\n      setIpfsError(hash, errorText);\n    } else {\n      throw Error('Fetch metadata form ipfs not working');\n    }\n  } else {\n    const ipfsResponse: Response = await fetch(getLink(ipfsHash, gateway));\n\n    if (!ipfsResponse.ok) {\n      if (!!setIpfsError) {\n        setIpfsError(hash);\n      } else {\n        throw Error('Fetch metadata form ipfs not working');\n      }\n    }\n\n    const clone = ipfsResponse.clone();\n    try {\n      const response: ProposalMetadata = await ipfsResponse.json();\n\n      const { content } = matter(response.description);\n\n      MEMORIZE[ipfsHash] = {\n        title: response.title,\n        aip: response.aip,\n        originalIpfsHash: hash,\n        author: response.author,\n        discussions: response.discussions,\n        shortDescription: response.shortDescription,\n        ipfsHash,\n        description: content,\n      };\n    } catch (e) {\n      const text = await clone.text();\n      const { content, data } = matter(text);\n      MEMORIZE[ipfsHash] = {\n        title: data.title,\n        aip: data.aip,\n        originalIpfsHash: hash,\n        author: data.author,\n        discussions: data.discussions,\n        shortDescription: data.shortDescription,\n        ipfsHash,\n        description: content,\n      };\n    }\n  }\n\n  return MEMORIZE[ipfsHash];\n}\n"],"names":["ChainIdByName","govCoreConfig","mainnet","contractAddress","GovernanceV3Ethereum","GOVERNANCE","dataHelperContractAddress","GOV_DATA_HELPER","votingPortals","_votingPortals","EthereumMainnet","VOTING_PORTAL_ETH_ETH","Polygon","VOTING_PORTAL_ETH_POL","Avalanche","VOTING_PORTAL_ETH_AVAX","goerli","_votingPortals2","Goerli","sepolia","_votingPortals3","Sepolia","AvalancheFuji","payloadsControllerConfig","_mainnet","PC_DATA_HELPER","contractAddresses","PAYLOADS_CONTROLLER","GovernanceV3Polygon","GovernanceV3Avalanche","Base","GovernanceV3Base","Arbitrum","GovernanceV3Arbitrum","Metis","GovernanceV3Metis","Optimism","GovernanceV3Optimism","_goerli","payloadAddress","_sepolia","votingMachineConfig","_mainnet2","VOTING_MACHINE","VM_DATA_HELPER","dataWarehouseAddress","DATA_WAREHOUSE","_goerli2","_sepolia2","govCoreChainId","aditionalsAddresses","aaveAddress","AaveV3Ethereum","ASSETS","AAVE","UNDERLYING","aAaveAddress","A_TOKEN","stkAAVEAddress","AaveSafetyModule","STK_AAVE","delegationHelper","META_DELEGATE_HELPER","payloadsControllerChainIds","votingMachineChainIds","gelatoApiKeys","testnet","appConfigInit","providers","coreNetwork","additional","valueToBigNumber","amount","BigNumber","normalize","n","decimals","normalizeBN","toString","shiftedBy","checkHash","hash","notZero","ethers","constants","HashZero","zero","blockLimit","getBlocksForEvents","currentBlock","startBlockNumber","endBlockNumber","lastBlockNumber","endBlock","isFinite","startBlock","getEventsBySteps","_x","_x2","_x3","_x4","_getEventsBySteps","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","callbackFunc","blockSteps","eventsCountArray","i","results","wrap","_callee2$","_context2","prev","next","Math","ceil","Array","Promise","all","map","_ref","_callee","count","_callee$","_context","abrupt","sent","stop","_x5","flat","BasicProposalState","VotingMachineProposalState","PayloadState","ProposalState","ProposalStateWithName","ProposalEstimatedState","ProposalWaitForState","normalizeVotes","forVotes","againstVotes","forVotesN","toNumber","againstVotesN","formatQuorum","quorum","precisionDivider","minQuorumVotes","multipliedBy","normalizeMinQuorumVotes","quorumReached","gte","formatDiff","differential","diff","minus","requiredDiff","normalizeRequiredDiff","getProposalStepsAndAmounts","proposalData","cooldownPeriod","executionPayloadTime","now","dayjs","unix","isVotingStarted","votingMachineState","NotCreated","isVotingEnded","votingMachineData","endTime","isVotingClosed","votingClosedAndSentTimestamp","_normalizeVotes","_formatQuorum","_formatDiff","lastPayloadQueuedAt","max","payloads","payload","queuedAt","lastPayloadExecutedAt","executedAt","lastPayloadCanceledAt","cancelledAt","lastPayloadExpiredAt","state","Expired","expirationTime","delay","gracePeriod","predictPayloadExpiredTime","Created","Queued","allPayloadsExecuted","every","Executed","allPayloadsCanceled","Cancelled","allPayloadsExpired","isCanceled","basicState","isExpired","isVotingActive","isVotingFailed","isProposalQueued","sentToGovernance","queuingTime","isProposalExecuted","isPayloadsQueued","isPayloadsExecuted","isProposalActive","Null","getProposalState","_ref2","data","_extends","_objectDestructuringEmpty","_getProposalStepsAndA","Active","snapshotBlockHash","Succeed","Defeated","Canceled","getStateTimestamp","proposal","_getProposalStepsAndA2","config","timings","creationTime","coolDownBeforeVotingStart","votingActivationTime","startTime","canceledAt","getEstimatedState","forVotesS","againstVotesS","_getProposalStepsAndA3","_normalizeVotes2","_formatQuorum2","_formatDiff2","isVotingDefeated","isProposalWaitForQueued","isPayloadsWaitForQueued","executedTimestamp","estimatedState","timestampForEstimatedState","ProposalExecuted","PayloadsExecuted","getWaitForState","_getProposalStepsAndA4","WaitForActivateVoting","WaitForCloseVoting","WaitForQueueProposal","WaitForExecuteProposal","WaitForQueuePayloads","WaitForExecutePayloads","undefined","formatProposal","_getProposalStepsAndA5","stateTimestamp","_getEstimatedState","waitForState","allVotes","plus","votingPowerBasic","balances","balance","basicValue","reduce","sum","value","votingPower","votingTokens","requiredForVotes","requiredAgainstVotes","forPercent","gt","dividedBy","againstPercent","votedPower","votedInfo","getAverageBlockTime","chainId","Binance","GoerliOptimism","Mumbai","BnbTest","getBlockNumberByTimestamp","_getBlockNumberByTimestamp","targetTimestamp","provider","blocksDiff","MAX_ITERATIONS","iterationCount","averageBlockTime","previousBlockTimestamp","previousBlockNumber","estimatedBlockNumber","estimatedBlock","minBlockNumber","maxBlockNumber","getBlock","timestamp","Error","number","floor","abs","getGovCoreConfigs","_getGovCoreConfigs","govCoreDataHelper","govCoreContractAddress","accessLevels","contractsConstants","configs","votingConfig","getConstants","cancellationFee","length","votingConfigs","accessLevel","votingDuration","yesThreshold","yesNoDifferential","minPropositionPower","push","getPayloadsCreatedEvents","_getPayloadsCreatedEvents","payloadsController","payloadsControllerAddress","events","queryFilter","filters","PayloadCreated","sort","a","b","blockNumber","event","payloadId","args","transactionHash","getPayloadsCreated","_x6","_x7","_x8","_x9","_x10","_getPayloadsCreated","_callee3","_callee3$","_context3","_x61","_x62","getProposalCreatedEvents","_x11","_x12","_x13","_getProposalCreatedEvents","_callee4","govCore","_callee4$","_context4","ProposalCreated","proposalId","getProposalCreated","_x14","_x15","_x16","_getProposalCreated","_callee6","_callee6$","_context6","_callee5","_callee5$","_context5","_x63","_x64","getProposalActivatedEvents","_x17","_x18","_x19","_getProposalActivatedEvents","_callee7","_callee7$","_context7","VotingActivated","getProposalActivated","_x20","_x21","_x22","_getProposalActivated","_callee9","_callee9$","_context9","_ref3","_callee8","_callee8$","_context8","_x65","_x66","getProposalActivatedOnVMEvents","_x23","_x24","_x25","_getProposalActivatedOnVMEvents","_callee10","votingMachine","_callee10$","_context10","ProposalVoteStarted","getProposalActivatedOnVM","_x26","_x27","_x28","_getProposalActivatedOnVM","_callee12","_callee12$","_context12","_ref4","_callee11","_callee11$","_context11","_x67","_x68","getProposalVotingClosedEvents","_x29","_x30","_x31","_getProposalVotingClosedEvents","_callee13","_callee13$","_context13","ProposalResultsSent","getProposalVotingClosed","_x32","_x33","_x34","_getProposalVotingClosed","_callee15","_callee15$","_context15","_ref5","_callee14","_callee14$","_context14","_x69","_x70","getProposalQueuedEvents","_x35","_x36","_x37","_getProposalQueuedEvents","_callee16","_callee16$","_context16","ProposalQueued","getProposalQueued","_x38","_x39","_x40","_getProposalQueued","_callee18","_callee18$","_context18","_ref6","_callee17","_callee17$","_context17","_x71","_x72","getPayloadsQueuedEvents","_x41","_x42","_x43","_x44","_x45","_getPayloadsQueuedEvents","_callee19","_callee19$","_context19","PayloadQueued","getPayloadsQueued","_x46","_x47","_x48","_x49","_x50","_getPayloadsQueued","_callee21","_callee21$","_context21","_ref7","_callee20","_callee20$","_context20","_x73","_x74","getPayloadsExecutedEvents","_x51","_x52","_x53","_x54","_x55","_getPayloadsExecutedEvents","_callee22","_callee22$","_context22","PayloadExecuted","getPayloadsExecuted","_x56","_x57","_x58","_x59","_x60","_getPayloadsExecuted","_callee24","_callee24$","_context24","_ref8","_callee23","_callee23$","_context23","_x75","_x76","getVotingMachineProposalState","votingClosedAndSentBlockNumber","Finished","SentToGovernance","formatVotingMachineData","id","l1BlockHash","voteConfig","l1ProposalBlockHash","strategy","createdBlock","creationBlockNumber","support","votingAssets","hasRequiredRoots","updateVotingMachineData","proposals","votingMachineDataHelperData","ids","proposalsData","forEach","govData","find","ipfsHash","initialPayloads","creator","votingChainId","prerender","getDetailedProposalsData","govCoreDataHelperData","_loop","chain","cancelTimestamp","getVoteEvents","_getVoteEvents","VoteEmitted","address","voter","getVoters","_getVoters","ipfsGateway","getLink","gateway","MEMORIZE","incorectedHashses","getProposalMetadata","_getProposalMetadata","setIpfsError","errorText","ipfsResponse","clone","response","_matter","content","text","_matter2","_content","startsWith","base58","encode","Buffer","from","slice","some","h","fetch","ok","json","matter","description","title","aip","originalIpfsHash","author","discussions","shortDescription","t0"],"mappings":"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"}